<metafilter-heading-cmp [name]="metadata.Name" #metafilterHeading></metafilter-heading-cmp>

<div class="panel-group" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default" *ngFor="let subtype of metadata.MetaDataSubTypes">
        <div class="panel-heading" role="tab" id="heading-{{subtype.Id}}">
            <a role="button" data-toggle="collapse" [attr.data-parent]="'#metadata-'+metadata.Id" href="#{{subtype.Id}}" aria-expanded="true" [attr.aria-controls]="subtype.Id">
                <h4 class="panel-title">
                    {{subtype.Name}}
                    <i class="material-icons">keyboard_arrow_down</i>
                </h4>
            </a>
        </div>
        <div id="{{subtype.Id}}" class="panel-collapse collapse in" role="tabpanel" [attr.aria-labelledby]="'heading-'+subtype.Id">
            <div class="panel-body">
                <button class="subtype-filter btn btn-sm {{ metafilters[option.Id] ? 'btn-success' : 'btn-default'}}" *ngFor="let option of subtype.MetaData" [attr.option-id]="option.Id" (click)="subfilterChange($event)">
                    <span class="btn-label">
                        <i class="material-icons">{{ metafilters[option.Id] ? 'check' : 'close' }}</i>
                    </span>
                    {{option.Name}}
                </button>
            </div>
        </div>
    </div>
</div>